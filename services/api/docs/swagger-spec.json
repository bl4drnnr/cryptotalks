{"openapi":"3.0.0","paths":{"/api/posts/create":{"post":{"operationId":"PostsController_createPost","summary":"Responsible for post creation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"200":{"description":"As a response function gets success message"},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}}},"tags":["Posts"]}},"/api/posts/get/{id}":{"get":{"operationId":"PostsController_getPostById","summary":"Gets post by its id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns post"}},"tags":["Posts"]}},"/api/posts/list/{page}/{pageSize}/{order}/{orderBy}":{"get":{"operationId":"PostsController_getAllPosts","summary":"List posts","parameters":[{"name":"page","required":true,"in":"path","schema":{"type":"number"}},{"name":"pageSize","required":true,"in":"path","schema":{"type":"number"}},{"name":"order","required":true,"in":"path","schema":{"type":"string"}},{"name":"orderBy","required":true,"in":"path","schema":{"type":"string"}},{"name":"searchQuery","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns list of posts"}},"tags":["Posts"]}},"/api/posts/delete/{id}":{"delete":{"operationId":"PostsController_deletePost","summary":"Responsible for post deletion","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function gets success message"}},"tags":["Posts"]}},"/api/posts/update/{id}":{"patch":{"operationId":"PostsController_updatePost","summary":"Responsible for post update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function gets success message"}},"tags":["Posts"]}},"/api/user/sign-up":{"post":{"operationId":"UserController_signUp","summary":"Responsible for user account creation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"201":{"description":"As a response function gets 2 tokens - refresh and access"}},"tags":["User"]}},"/api/user/sign-in":{"post":{"operationId":"UserController_signIn","summary":"Responsible for user login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"201":{"description":"As a response function gets success message"}},"tags":["User"]}},"/api/user/account-confirmation/{confirmationHash}":{"get":{"operationId":"UserController_confirmAccount","summary":"Confirm user registration","parameters":[{"name":"confirmationHash","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseDto"}}}},"201":{"description":"As a response function gets success message"}},"tags":["User"]}},"/api/user/logout":{"get":{"operationId":"UserController_logout","summary":"Logouts user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"201":{"description":"As a response function gets success message"}},"tags":["User"]}},"/api/auth/refresh":{"get":{"operationId":"AuthController_refreshTokens","summary":"Refreshes tokens","parameters":[],"responses":{"200":{"description":""},"201":{"description":"Refreshes both tokens and returns to user"}},"tags":["Authentication"]}},"/api/crypto/list/{page}/{pageSize}/{order}/{orderBy}":{"get":{"operationId":"CryptoController_getAllCryptos","summary":"List cryptos","parameters":[{"name":"page","required":true,"in":"path","schema":{"type":"number"}},{"name":"pageSize","required":true,"in":"path","schema":{"type":"number"}},{"name":"order","required":true,"in":"path","schema":{"type":"string"}},{"name":"orderBy","required":true,"in":"path","schema":{"type":"string"}},{"name":"searchQuery","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns list of posts"}},"tags":["Crypto"]}},"/api/crypto/get/{id}":{"get":{"operationId":"CryptoController_getCryptoById","summary":"Gets crypto by its id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns cryptocurrency"}},"tags":["Crypto"]}},"/api/crypto/favorite/{id}":{"patch":{"operationId":"CryptoController_addCryptoToFavorites","summary":"Adds a crypto to user's favorites","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns success message"}},"tags":["Crypto"]},"delete":{"operationId":"CryptoController_removeCryptoFromFavorites","summary":"Removes a crypto to user's favorites","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"As a response function returns success message"}},"tags":["Crypto"]}}},"info":{"title":"Cryptotalks - API Gateway","description":"Documentation of Cryptotalks' API Gateway.","version":"0.0.1","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"Post":{"type":"object","properties":{"id":{"type":"uuidv4","nullable":false,"default":"uuidv4","description":"Unique Id of the record"},"title":{"type":"string","nullable":false,"description":"Title of the post"},"slug":{"type":"string","nullable":false,"description":"Slug of the post"},"content":{"nullable":false,"description":"Content of the post","type":"array","items":{"type":"string"}},"searchTags":{"nullable":false,"description":"Search tags","type":"array","items":{"type":"string"}},"userId":{"type":"uuiv4","nullable":false,"description":"User Id"},"createdAt":{"format":"date-time","type":"string","nullable":false,"description":"Record creation date"},"updatedAt":{"format":"date-time","type":"string","nullable":false,"description":"Record update date"}},"required":["id","title","slug","content","searchTags","userId","createdAt","updatedAt"]},"CreatePostDto":{"type":"object","properties":{"title":{"type":"string","nullable":false},"content":{"nullable":false,"type":"array","items":{"type":"string"}},"userId":{"type":"uuidv4","nullable":false}},"required":["title","content","userId"]},"ResponseDto":{"type":"object","properties":{"message":{"type":"string","nullable":false}},"required":["message"]},"User":{"type":"object","properties":{"id":{"type":"uuidv4","nullable":false,"default":"uuidv4","description":"Unique Id of the record"},"email":{"type":"string","nullable":false,"description":"User email"},"password":{"type":"string","nullable":false,"description":"User hashed password"},"accountConfirm":{"type":"boolean","nullable":false,"description":"Checks if user confirmed account by clicking into link in email after registration","default":false},"firstName":{"type":"string","nullable":true,"description":"User first name"},"lastName":{"type":"string","nullable":true,"description":"User last name"},"username":{"type":"string","nullable":false,"description":"User username"},"twitter":{"type":"string","nullable":true,"description":"User Twitter account"},"linkedIn":{"type":"string","nullable":true,"description":"User LinkedIn account"},"personalWebsite":{"type":"string","nullable":true,"description":"User personal website"},"title":{"type":"string","nullable":true,"description":"User account title"},"bio":{"type":"string","nullable":true,"description":"User biography"},"tac":{"type":"boolean","nullable":false,"description":"User accepted terms and conditions"},"createdAt":{"format":"date-time","type":"string","nullable":false,"description":"Record creation date"},"updatedAt":{"format":"date-time","type":"string","nullable":false,"description":"Record update date"}},"required":["id","email","password","accountConfirm","firstName","lastName","username","twitter","linkedIn","personalWebsite","title","bio","tac","createdAt","updatedAt"]},"SignUpDto":{"type":"object","properties":{"firstName":{"type":"string","nullable":true},"lastName":{"type":"string","nullable":true},"email":{"type":"string","nullable":false},"password":{"type":"string","nullable":false},"username":{"type":"string","nullable":false},"twitter":{"type":"string","nullable":true},"linkedIn":{"type":"string","nullable":true},"personalWebsite":{"type":"string","nullable":true},"title":{"type":"string","nullable":true},"bio":{"type":"string","nullable":true},"tac":{"type":"boolean","nullable":false},"publicEmail":{"type":"boolean","nullable":true}},"required":["email","password","username","tac"]},"Session":{"type":"object","properties":{"id":{"type":"uuidv4","nullable":false,"default":"uuidv4","description":"Unique Id of the record"},"tokenId":{"type":"uuidv4","nullable":false,"description":"Id of the token"},"userId":{"type":"uuidv4","nullable":false,"description":"User id"},"createdAt":{"format":"date-time","type":"string","nullable":false,"description":"Record creation date"},"updatedAt":{"format":"date-time","type":"string","nullable":false,"description":"Record update date"}},"required":["id","tokenId","userId","createdAt","updatedAt"]},"SignInDto":{"type":"object","properties":{"email":{"type":"string","nullable":false},"password":{"type":"string","nullable":false}},"required":["email","password"]},"ConfirmationHash":{"type":"object","properties":{"id":{"type":"string","nullable":false,"default":"uuidv4","description":"Unique Id of the record"},"confirmationHash":{"type":"string","nullable":false,"description":"Confirmation hash"},"confirmed":{"type":"boolean","nullable":false,"description":"If hash has been confirmed"},"userId":{"type":"uuidv4","nullable":false,"description":"User Id"},"createdAt":{"format":"date-time","type":"string","nullable":false,"description":"Record creation date"},"updatedAt":{"format":"date-time","type":"string","nullable":false,"description":"Record update date"}},"required":["id","confirmationHash","confirmed","userId","createdAt","updatedAt"]}}}}